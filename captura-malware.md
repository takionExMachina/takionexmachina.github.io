---
layout: default
---

<br>

En esta ocación publicaré como crear una red de honeypots para captura de malware,
para esto se usarán VPS en tres locaciones como nodos sensores, debido a que
según la ubicación del servidor, se tendrá exposición a malware de distintas características,
por ejemplo ciertas Botnet utilizan zonas horarias para determinar lugares objetivo, por
ejemplo si se desea realizar campañas de Spam por medio de una Botnet en español, según
la manipulación del sistema horario, se puede aproximar la ubicación de la victima que
cumpla con la restricción de idioma. Para la realización del proyecto se usará
[**Modern Honey Network**](https://github.com/threatstream/mhn).

Bueno a instalar el servidor mediante el cual se recibirá la información enviada por los sensores
, por lo que se realizará un modelo distribuido como se puede apreciar en la imagen inferior:

![](/assets/img/network.png)

Para llevar a cabo la instalación se usará la siguiente serie de comandos:

1.  Primero elegir la carpeta de instalación.
2.  clonar el repo desde el siguiente  [enlace](https://github.com/takionExMachina/mhn)
3.  instalar por medio de install.sh
4.  Completar la información solicitada.

Una vez hemos instalado MHN es hora de agregar uno a uno los nodos sensores, para lo cual se
necesita lo siguiente:

1. Se debe ingresar al servidor MHN, se solicitará el correo que se nos pidió al momento de
realizar la instalación, y la respectiva clave.

![](/assets/img/login.png)

2. En el menú se seleccionará deploy.

![](/assets/img/deploy.png)

desde donde se prodrá elegir por medio de una lista desplegable, el sensor que se desea
añadir, para el caso demostrativo dionaea, una vez se ha generado el script se pega en la
terminal del nodo sensor, lo que llevará a cabo el proceso de instalación. Una vez se ha
completado el proceso, se podrá observar en el servidor MHN en la pestaña /sensors/View sensors
que nuestro dionaea se configuró correctamente, por lo cual, comenzará a ser atacado.

![](/assets/img/map.png)

Para agregar más nodos y de otro tipo de honey se usará el procedimiento anterior, ahora bien,
lo único que limitará las posibilidades será tu imaginación, a modo de ejemplo si disfrutas haciendo
ingeniería inversa de software, alguno que otro "vicho" capturado te será de utilidad para pasar un
buen rato. Si bien no se mencionó en un principio dionaea permite un nivel de interacción limitado,
por lo que podrás llegar a la conclusión que los ataques en un porcentaje no menor podrían ser
originados por zombies, hosts infectados en diversos lugares del mundo. Cabe mencionar que este
framework permite la personalización, por lo que podrás añadir funcionalidad según tu criterio y
necesidad, por ejemplo un repo de malware que suba las muestras de manera automatizada.
